function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{iW4g:function(t,e,a){"use strict";a.r(e),a.d(e,"WeightGainModule",(function(){return j}));var r,n=a("ofXK"),o=a("M0ag"),i=a("LPYB"),s=a("tyNb"),c=a("ZZ88"),l=a("tk/3"),h=(a("AJX/"),a("fXoL")),d=((r=function(){function t(e){_classCallCheck(this,t),this.http=e,this.ServerUrl="http://18.212.2.14:9000/"}return _createClass(t,[{key:"PlanAnalytics",value:function(t){var e=new l.c({Authorization:localStorage.getItem("token")});return this.http.post(this.ServerUrl+"rest/admin/analytics_weight_gain",t,{headers:e,responseType:"json"}).map((function(t){return t}))}}]),t}()).\u0275fac=function(t){return new(t||r)(h.dc(l.a))},r.\u0275prov=h.Lb({token:r,factory:r.\u0275fac}),r),u=a("3Pt+"),b=a("wd/R"),f=a("5eHb"),p=a("1kSV"),m=a("3zLz"),y=a("arFO"),g=["d"],v=["myRangeInput"];function C(t,e){if(1&t){var a=h.Wb();h.Vb(0,"span",18),h.hc("click",(function(){h.Bc(a);var t=e.date;return h.jc().onDateSelection(t)}))("mouseenter",(function(){h.Bc(a);var t=e.date;return h.jc().hoveredDate=t}))("mouseleave",(function(){return h.Bc(a),h.jc().hoveredDate=null})),h.Lc(1),h.Ub()}if(2&t){var r=e.date,n=h.jc();h.Hb("range",n.isFrom(r)||n.isTo(r)||n.isInside(r)||n.isHovered(r))("faded",n.isHovered(r)||n.isInside(r)),h.Cb(1),h.Nc(" ",r.day," ")}}new Date;var D,k,w,P=function(t,e){return t&&e&&e.year===t.year&&e.month===t.month&&e.day===t.day},_=function(t,e){return!(!t||!e)&&(t.year===e.year?t.month===e.month?t.day!==e.day&&t.day<e.day:t.month<e.month:t.year<e.year)},B=function(t,e){return!(!t||!e)&&(t.year===e.year?t.month===e.month?t.day!==e.day&&t.day>e.day:t.month>e.month:t.year>e.year)},U=[{path:"",component:(D=function(){function t(e,a,r,n,o){var i=this;_classCallCheck(this,t),this.toastrService=e,this.weightGainService=a,this.calendar=r,this.renderer=n,this.__parserFormatter=o,this.lineChartData=[{data:[],label:""}],this.lineChartLabels=[],this.lineChartOptions={responsive:!0},this.lineChartColors=[{backgroundColor:"rgba(0,102,255,0.4)",borderColor:"rgba(0,102,255,1)",pointBackgroundColor:"rgba(0,102,255,0.4)",pointBorderColor:"#0066FF",pointHoverBackgroundColor:"#0066FF",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(77,83,96,0.2)",borderColor:"rgba(77,83,96,1)",pointBackgroundColor:"rgba(77,83,96,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(148,159,177,0.2)",borderColor:"rgba(148,159,177,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)"}],this.isHovered=function(t){return i.fromDate&&!i.toDate&&i.hoveredDate&&B(t,i.fromDate)&&_(t,i.hoveredDate)},this.isInside=function(t){return B(t,i.fromDate)&&_(t,i.toDate)},this.isFrom=function(t){return P(t,i.fromDate)},this.isTo=function(t){return P(t,i.toDate)}}return _createClass(t,[{key:"chartClicked",value:function(t){}},{key:"chartHovered",value:function(t){}},{key:"ngOnInit",value:function(){this.toastrService.success("Update Successfully",""),this.PlanAnalytics(),this.lineChartLegend=!0,this.lineChartType="line",this.days=[{name:"Week"},{name:"Month"},{name:"Quarter"},{name:"Year"}],this.toastrService.error("Quantity Not Available","")}},{key:"PlanAnalytics",value:function(){var t,e=this,a=b().utc().startOf("month").format(),r=b().utc().endOf("month").format();if(null!=this.fromDate&&null!=this.toDate){var n=JSON.stringify(this.selectedDay.value);t={startdate:b.utc([this.fromDate.year,this.fromDate.month-1,this.fromDate.day]).format(),enddate:b.utc([this.toDate.year,this.toDate.month-1,this.toDate.day]).format(),groupby:n}}else t={startdate:a,enddate:r,groupby:1};this.weightGainService.PlanAnalytics(t).subscribe((function(t){if(console.log("response",t),1==t.success){for(var a=[],r=[],n=Object.keys(t.data[0])[0],o=0;o<t.data.length;o++){var i=Object.values(t.data[o])[1],s=Object.values(t.data[o])[0];a.push(i),r.push(s)}e.lineChartLabels=a,e.lineChartData=[{data:r,label:n}]}}))}},{key:"onDateSelection",value:function(t){var e="";this.fromDate||this.toDate?this.fromDate&&!this.toDate&&B(t,this.fromDate)?(this.toDate=B(t,this.startDate)?this.startDate:t,this.input.close()):(this.toDate=null,this.fromDate=B(t,this.startDate)?this.startDate:t):this.fromDate=B(t,this.startDate)?this.startDate:t,this.fromDate&&(e+=this.__parserFormatter.format(this.fromDate)),this.toDate&&(e+=" - "+this.__parserFormatter.format(this.toDate)),this.renderer.setProperty(this.myRangeInput.nativeElement,"value",e)}}]),t}(),D.\u0275fac=function(t){return new(t||D)(h.Pb(f.b),h.Pb(d),h.Pb(p.e),h.Pb(h.E),h.Pb(p.h))},D.\u0275cmp=h.Jb({type:D,selectors:[["app-premiumplan"]],viewQuery:function(t,e){var a;1&t&&(h.Qc(g,!0),h.Qc(u.l,!0),h.Qc(v,!0)),2&t&&(h.zc(a=h.ic())&&(e.input=a.first),h.zc(a=h.ic())&&(e.datePick=a.first),h.zc(a=h.ic())&&(e.myRangeInput=a.first))},features:[h.Bb([d,f.b])],decls:22,vars:17,consts:[[3,"heading","icon"],[1,"row"],[1,"col","col-sm-10"],[1,"card","mb-6"],[1,"card-header"],["placeholder","Day Filter","optionLabel","name",3,"options","ngModel","showClear","ngModelChange"],[1,"form-group"],[1,"input-group"],["placeholder","yyyy-mm-dd - yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","dayTemplate","autoClose","displayMonths","markDisabled","ngModelChange","focus"],["myRangeInput","","d","ngbDatepicker"],["t",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-calendar"],["ngbButton","",1,"btn","btn-themecolor","ml-3",3,"click"],[1,"fa","fa-search"],[1,"card-body"],["baseChart","","height","130",3,"chartType","colors","datasets","labels","legend","options","chartClick","chartHover"],[1,"custom-day",3,"click","mouseenter","mouseleave"]],template:function(t,e){if(1&t){var a=h.Wb();h.Vb(0,"div"),h.Qb(1,"app-page-header",0),h.Vb(2,"div",1),h.Vb(3,"div",2),h.Vb(4,"div",3),h.Vb(5,"div",4),h.Lc(6," Line Chart "),h.Vb(7,"p-dropdown",5),h.hc("ngModelChange",(function(t){return e.selectedDay=t})),h.Ub(),h.Vb(8,"div",6),h.Vb(9,"div",7),h.Vb(10,"input",8,9),h.hc("ngModelChange",(function(t){return e.model=t}))("focus",(function(){return h.Bc(a),h.Ac(12).toggle()})),h.Ub(),h.Jc(13,C,2,5,"ng-template",null,10,h.Kc),h.Vb(15,"div",11),h.Vb(16,"button",12),h.hc("click",(function(){return h.Bc(a),h.Ac(12).toggle()})),h.Qb(17,"i",13),h.Ub(),h.Vb(18,"button",14),h.hc("click",(function(){return e.PlanAnalytics()})),h.Qb(19,"i",15),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(20,"div",16),h.Vb(21,"canvas",17),h.hc("chartClick",(function(t){return e.chartClicked(t)}))("chartHover",(function(t){return e.chartHovered(t)})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()}if(2&t){var r=h.Ac(14);h.pc("@routerTransition",void 0),h.Cb(1),h.pc("heading","Weight Gain Program Analytics")("icon","fa-bar-chart-o"),h.Cb(6),h.pc("options",e.days)("ngModel",e.selectedDay)("showClear",!0),h.Cb(3),h.pc("ngModel",e.model)("dayTemplate",r)("autoClose",!1)("displayMonths",2)("markDisabled",e.markDisabled),h.Cb(11),h.pc("chartType",e.lineChartType)("colors",e.lineChartColors)("datasets",e.lineChartData)("labels",e.lineChartLabels)("legend",e.lineChartLegend)("options",e.lineChartOptions)}},directives:[m.a,y.a,u.i,u.l,p.n,u.b,i.a],styles:["[_nghost-%COMP%]     .ui-button{margin:.5em .5em .5em 0;width:140px}@media screen and (max-width:40em){[_nghost-%COMP%]     .ui-dialog{width:75vw!important}}"],data:{animation:[Object(c.a)()]}}),D)}],M=((k=function t(){_classCallCheck(this,t)}).\u0275mod=h.Nb({type:k}),k.\u0275inj=h.Mb({factory:function(t){return new(t||k)},imports:[[s.e.forChild(U)],s.e]}),k),H=a("rEr+"),V=a("/RsI"),O=a("jIHw"),j=((w=function t(){_classCallCheck(this,t)}).\u0275mod=h.Nb({type:w}),w.\u0275inj=h.Mb({factory:function(t){return new(t||w)},imports:[[n.b,y.b,i.b,M,o.b,u.f,H.e,V.b,O.b,p.p,p.i]]}),w)}}]);
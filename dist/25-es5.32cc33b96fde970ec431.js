function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"s6f+":function(e,t,a){"use strict";a.r(t),a.d(t,"WeightLossModule",(function(){return S}));var r,o=a("ofXK"),n=a("M0ag"),i=a("LPYB"),s=a("tyNb"),c=a("ZZ88"),l=a("tk/3"),d=(a("AJX/"),a("fXoL")),u=((r=function(){function e(t){_classCallCheck(this,e),this.http=t,this.ServerUrl="http://18.212.2.14:9000/"}return _createClass(e,[{key:"PlanAnalytics",value:function(e){var t=new l.c({Authorization:localStorage.getItem("token")});return this.http.post(this.ServerUrl+"rest/admin/analytics_weight_loss",e,{headers:t,responseType:"json"}).map((function(e){return e}))}}]),e}()).\u0275fac=function(e){return new(e||r)(d.cc(l.a))},r.\u0275prov=d.Kb({token:r,factory:r.\u0275fac}),r),h=a("3Pt+"),f=a("wd/R"),b=a("5eHb"),g=a("1kSV"),p=a("3zLz"),m=a("arFO"),y=["d"],v=["myRangeInput"];function C(e,t){if(1&e){var a=d.Vb();d.Ub(0,"span",21),d.gc("click",(function(){d.Bc(a);var e=t.date;return d.ic().onDateSelection(e)}))("mouseenter",(function(){d.Bc(a);var e=t.date;return d.ic().hoveredDate=e}))("mouseleave",(function(){return d.Bc(a),d.ic().hoveredDate=null})),d.Lc(1),d.Tb()}if(2&e){var r=t.date,o=d.ic();d.Gb("range",o.isFrom(r)||o.isTo(r)||o.isInside(r)||o.isHovered(r))("faded",o.isHovered(r)||o.isInside(r)),d.Bb(1),d.Nc(" ",r.day," ")}}new Date;var D,k,w,O=function(e,t){return e&&t&&t.year===e.year&&t.month===e.month&&t.day===e.day},P=function(e,t){return!(!e||!t)&&(e.year===t.year?e.month===t.month?e.day!==t.day&&e.day<t.day:e.month<t.month:e.year<t.year)},M=function(e,t){return!(!e||!t)&&(e.year===t.year?e.month===t.month?e.day!==t.day&&e.day>t.day:e.month>t.month:e.year>t.year)},T=[{path:"",component:(D=function(){function e(t,a,r,o,n){var i=this;_classCallCheck(this,e),this.toastrService=t,this.weightLossService=a,this.calendar=r,this.renderer=o,this.__parserFormatter=n,this.lineChartData=[{data:[],label:""}],this.lineChartLabels=[],this.lineChartOptions={responsive:!0},this.lineChartColors=[{backgroundColor:"rgba(0,102,255,0.4)",borderColor:"rgba(0,102,255,1)",pointBackgroundColor:"rgba(0,102,255,0.4)",pointBorderColor:"#0066FF",pointHoverBackgroundColor:"#0066FF",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(77,83,96,0.2)",borderColor:"rgba(77,83,96,1)",pointBackgroundColor:"rgba(77,83,96,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(148,159,177,0.2)",borderColor:"rgba(148,159,177,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)"}],this.isHovered=function(e){return i.fromDate&&!i.toDate&&i.hoveredDate&&M(e,i.fromDate)&&P(e,i.hoveredDate)},this.isInside=function(e){return M(e,i.fromDate)&&P(e,i.toDate)},this.isFrom=function(e){return O(e,i.fromDate)},this.isTo=function(e){return O(e,i.toDate)}}return _createClass(e,[{key:"chartClicked",value:function(e){}},{key:"chartHovered",value:function(e){}},{key:"ngOnInit",value:function(){this.lineChartLegend=!0,this.lineChartType="line",this.days=[{name:"Week",value:1},{name:"Month",value:2},{name:"Quarter",value:3},{name:"Year",value:4}],this.group=[{name:"Weight",value:1},{name:"Bodyfat",value:2},{name:"BMR",value:3},{name:"LBM",value:4}],this.PlanOnLoad()}},{key:"PlanOnLoad",value:function(){var e=this,t=f().utc().startOf("month").format(),a=f().utc().endOf("month").format();this.weightLossService.PlanAnalytics({startdate:t,enddate:a,groupby:1,category:1}).subscribe((function(t){if(console.log("response",t),1==t.success){0==t.data.length&&e.toastrService.error("No data found!","");for(var a=[],r=[],o=Object.keys(t.data[0])[0],n=0;n<t.data.length;n++){var i=Object.values(t.data[n])[1],s=Object.values(t.data[n])[0];a.push(i),r.push(s)}e.lineChartLabels=a,e.lineChartData=[{data:r,label:o}]}}))}},{key:"PlanAnalytics",value:function(){var e,t=this;if(null==this.selectedDay)this.toastrService.error("Please select day filter to get analytics data.","");else if(null==this.selectedGroup)this.toastrService.error("Please select category filter to get analytics data.","");else if(null==this.fromDate&&null==this.toDate)this.toastrService.error("Please select date to get analytics data.","");else{var a=JSON.stringify(this.selectedDay.value),r=JSON.stringify(this.selectedGroup.value);e={startdate:f.utc([this.fromDate.year,this.fromDate.month-1,this.fromDate.day]).format(),enddate:f.utc([this.toDate.year,this.toDate.month-1,this.toDate.day]).format(),groupby:a,category:r},this.weightLossService.PlanAnalytics(e).subscribe((function(e){if(console.log("response",e),1==e.success){0==e.data.length&&t.toastrService.error("No data found!","");for(var a=[],r=[],o=Object.keys(e.data[0])[0],n=0;n<e.data.length;n++){var i=Object.values(e.data[n])[1],s=Object.values(e.data[n])[0];a.push(i),r.push(s)}t.lineChartLabels=a,t.lineChartData=[{data:r,label:o}]}}))}}},{key:"onDateSelection",value:function(e){var t="";this.fromDate||this.toDate?this.fromDate&&!this.toDate&&M(e,this.fromDate)?(this.toDate=M(e,this.startDate)?this.startDate:e,this.input.close()):(this.toDate=null,this.fromDate=M(e,this.startDate)?this.startDate:e):this.fromDate=M(e,this.startDate)?this.startDate:e,this.fromDate&&(t+=this.__parserFormatter.format(this.fromDate)),this.toDate&&(t+=" - "+this.__parserFormatter.format(this.toDate)),this.renderer.setProperty(this.myRangeInput.nativeElement,"value",t)}}]),e}(),D.\u0275fac=function(e){return new(e||D)(d.Ob(b.b),d.Ob(u),d.Ob(g.d),d.Ob(d.E),d.Ob(g.f))},D.\u0275cmp=d.Ib({type:D,selectors:[["app-premiumplan"]],viewQuery:function(e,t){var a;1&e&&(d.Qc(y,!0),d.Qc(h.l,!0),d.Qc(v,!0)),2&e&&(d.zc(a=d.hc())&&(t.input=a.first),d.zc(a=d.hc())&&(t.datePick=a.first),d.zc(a=d.hc())&&(t.myRangeInput=a.first))},features:[d.Ab([u,b.b])],decls:25,vars:20,consts:[[3,"heading","icon"],[1,"row"],[1,"col","col-sm-10"],[1,"card","mb-6"],[1,"row",2,"padding-top","5px"],[1,"filter","col-sm-2",2,"padding-top","1px"],["placeholder","Day Filter","optionLabel","name",3,"options","ngModel","showClear","ngModelChange"],["placeholder","Category Filter","optionLabel","name",3,"options","ngModel","showClear","ngModelChange"],[1,"filter","col-sm-5"],[1,"input-group"],["placeholder","yyyy-mm-dd - yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","dayTemplate","autoClose","displayMonths","markDisabled","ngModelChange","focus"],["myRangeInput","","d","ngbDatepicker"],["t",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-calendar"],["ngbButton","",1,"btn","btn-themecolor","ml-3",3,"click"],[1,"fa","fa-search"],[1,"filter","col-sm-3"],[1,"card-body"],["baseChart","","height","130",3,"chartType","colors","datasets","labels","legend","options","chartClick","chartHover"],[1,"custom-day",3,"click","mouseenter","mouseleave"]],template:function(e,t){if(1&e){var a=d.Vb();d.Ub(0,"div"),d.Pb(1,"app-page-header",0),d.Ub(2,"div",1),d.Ub(3,"div",2),d.Ub(4,"div",3),d.Ub(5,"div",4),d.Ub(6,"div",5),d.Ub(7,"p-dropdown",6),d.gc("ngModelChange",(function(e){return t.selectedDay=e})),d.Tb(),d.Tb(),d.Ub(8,"div",5),d.Ub(9,"p-dropdown",7),d.gc("ngModelChange",(function(e){return t.selectedGroup=e})),d.Tb(),d.Tb(),d.Ub(10,"div",8),d.Ub(11,"div",9),d.Ub(12,"input",10,11),d.gc("ngModelChange",(function(e){return t.model=e}))("focus",(function(){return d.Bc(a),d.Ac(14).toggle()})),d.Tb(),d.Jc(15,C,2,5,"ng-template",null,12,d.Kc),d.Ub(17,"div",13),d.Ub(18,"button",14),d.gc("click",(function(){return d.Bc(a),d.Ac(14).toggle()})),d.Pb(19,"i",15),d.Tb(),d.Ub(20,"button",16),d.gc("click",(function(){return t.PlanAnalytics()})),d.Pb(21,"i",17),d.Tb(),d.Tb(),d.Tb(),d.Pb(22,"div",18),d.Tb(),d.Ub(23,"div",19),d.Ub(24,"canvas",20),d.gc("chartClick",(function(e){return t.chartClicked(e)}))("chartHover",(function(e){return t.chartHovered(e)})),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&e){var r=d.Ac(16);d.oc("@routerTransition",void 0),d.Bb(1),d.oc("heading","Weight Loss Program Analytics")("icon","fa-line-chart"),d.Bb(6),d.oc("options",t.days)("ngModel",t.selectedDay)("showClear",!0),d.Bb(2),d.oc("options",t.group)("ngModel",t.selectedGroup)("showClear",!0),d.Bb(3),d.oc("ngModel",t.model)("dayTemplate",r)("autoClose",!1)("displayMonths",2)("markDisabled",t.markDisabled),d.Bb(12),d.oc("chartType",t.lineChartType)("colors",t.lineChartColors)("datasets",t.lineChartData)("labels",t.lineChartLabels)("legend",t.lineChartLegend)("options",t.lineChartOptions)}},directives:[p.a,m.a,h.i,h.l,g.l,h.b,i.a],styles:["[_nghost-%COMP%]     .ui-button{margin:.5em .5em .5em 0;width:140px}@media screen and (max-width:40em){[_nghost-%COMP%]     .ui-dialog{width:75vw!important}}.rightshift[_ngcontent-%COMP%]{right:0;left:auto}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:rgba(2,117,216,.5)}.filter[_ngcontent-%COMP%]{margin-left:10px}"],data:{animation:[Object(c.a)()]}}),D)}],B=((k=function e(){_classCallCheck(this,e)}).\u0275mod=d.Mb({type:k}),k.\u0275inj=d.Lb({factory:function(e){return new(e||k)},imports:[[s.e.forChild(T)],s.e]}),k),_=a("rEr+"),L=a("/RsI"),U=a("jIHw"),S=((w=function e(){_classCallCheck(this,e)}).\u0275mod=d.Mb({type:w}),w.\u0275inj=d.Lb({factory:function(e){return new(e||w)},imports:[[o.b,m.b,i.b,B,n.b,h.f,_.e,L.b,U.c,g.n,g.g]]}),w)}}]);
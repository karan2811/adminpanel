(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{iW4g:function(t,e,s){"use strict";s.r(e),s.d(e,"WeightGainModule",(function(){return R}));var i=s("ofXK"),n=s("M0ag"),o=s("LPYB"),a=s("tyNb"),r=s("ZZ88"),c=s("tk/3"),l=(s("AJX/"),s("fXoL"));let h=(()=>{class t{constructor(t){this.http=t,this.ServerUrl="http://18.212.2.14:9000/"}PlanAnalytics(t){const e=new c.c({Authorization:localStorage.getItem("token")});return this.http.post(this.ServerUrl+"rest/admin/analytics_weight_gain",t,{headers:e,responseType:"json"}).map(t=>t)}}return t.\u0275fac=function(e){return new(e||t)(l.cc(c.a))},t.\u0275prov=l.Kb({token:t,factory:t.\u0275fac}),t})();var m=s("3Pt+"),d=s("wd/R"),u=s("7zfz"),p=s("5eHb"),b=s("1kSV"),g=s("3zLz"),f=s("YyRF"),y=s("R0Ic");const v=["container"];function C(t,e){if(1&t){const t=l.Vb();l.Ub(0,"a",6),l.gc("click",(function(e){return l.Bc(t),l.ic().onCloseIconClick(e)}))("keydown.enter",(function(e){return l.Bc(t),l.ic().onCloseIconClick(e)})),l.Tb()}}const O=function(t,e,s,i){return{"pi-info-circle":t,"pi-exclamation-triangle":e,"pi-times-circle":s,"pi-check":i}};function T(t,e){if(1&t&&(l.Sb(0),l.Pb(1,"span",7),l.Ub(2,"div",8),l.Ub(3,"div",9),l.Lc(4),l.Tb(),l.Ub(5,"div",10),l.Lc(6),l.Tb(),l.Tb(),l.Rb()),2&t){const t=l.ic();l.Bb(1),l.oc("ngClass",l.vc(3,O,"info"==t.message.severity,"warn"==t.message.severity,"error"==t.message.severity,"success"==t.message.severity)),l.Bb(3),l.Mc(t.message.summary),l.Bb(2),l.Mc(t.message.detail)}}function w(t,e){1&t&&l.Qb(0)}const k=function(t,e,s,i){return{showTransformParams:t,hideTransformParams:e,showTransitionParams:s,hideTransitionParams:i}},D=function(t){return{value:"visible",params:t}},M=function(t,e,s,i){return{"ui-toast-message-info":t,"ui-toast-message-warn":e,"ui-toast-message-error":s,"ui-toast-message-success":i}},I=function(t){return{$implicit:t}};function x(t,e){if(1&t){const t=l.Vb();l.Ub(0,"p-toastItem",3),l.gc("onClose",(function(e){return l.Bc(t),l.ic().onMessageClose(e)}))("@toastAnimation.start",(function(e){return l.Bc(t),l.ic().onAnimationStart(e)})),l.Tb()}if(2&t){const t=e.$implicit,s=e.index,i=l.ic();l.oc("message",t)("index",s)("template",i.template)("@toastAnimation",void 0)("showTransformOptions",i.showTransformOptions)("hideTransformOptions",i.hideTransformOptions)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions)}}const B=function(t,e,s,i,n,o,a){return{"ui-toast ui-widget":!0,"ui-toast-top-right":t,"ui-toast-top-left":e,"ui-toast-bottom-right":s,"ui-toast-bottom-left":i,"ui-toast-top-center":n,"ui-toast-bottom-center":o,"ui-toast-center":a}};let P=(()=>{let t=class{constructor(t){this.zone=t,this.onClose=new l.n}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(t){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()}ngOnDestroy(){this.clearTimeout()}};return t.\u0275fac=function(e){return new(e||t)(l.Ob(l.A))},t.\u0275cmp=l.Ib({type:t,selectors:[["p-toastItem"]],viewQuery:function(t,e){var s;1&t&&l.Qc(v,!0),2&t&&l.zc(s=l.hc())&&(e.containerViewChild=s.first)},inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[["role","alert","aria-live","assertive","aria-atomic","true",1,"ui-toast-message","ui-shadow",3,"ngClass","mouseenter","mouseleave"],["container",""],[1,"ui-toast-message-content"],["tabindex","0","class","ui-toast-close-icon pi pi-times",3,"click","keydown.enter",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"ui-toast-close-icon","pi","pi-times",3,"click","keydown.enter"],[1,"ui-toast-icon","pi",3,"ngClass"],[1,"ui-toast-message-text-content"],[1,"ui-toast-summary"],[1,"ui-toast-detail"]],template:function(t,e){1&t&&(l.Ub(0,"div",0,1),l.gc("mouseenter",(function(){return e.onMouseEnter()}))("mouseleave",(function(){return e.onMouseLeave()})),l.Ub(2,"div",2),l.Jc(3,C,1,0,"a",3),l.Jc(4,T,7,8,"ng-container",4),l.Jc(5,w,1,0,"ng-container",5),l.Tb(),l.Tb()),2&t&&(l.oc("@messageState",l.sc(12,D,l.vc(7,k,e.showTransformOptions,e.hideTransformOptions,e.showTransitionOptions,e.hideTransitionOptions)))("ngClass",l.vc(14,M,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),l.Cb("id",e.message.id),l.Bb(3),l.oc("ngIf",!1!==e.message.closable),l.Bb(1),l.oc("ngIf",!e.template),l.Bb(1),l.oc("ngTemplateOutlet",e.template)("ngTemplateOutletContext",l.sc(19,I,e.message)))},directives:[i.j,i.l,i.n],encapsulation:2,data:{animation:[Object(y.m)("messageState",[Object(y.j)("visible",Object(y.k)({transform:"translateY(0)",opacity:1})),Object(y.l)("void => *",[Object(y.k)({transform:"{{showTransformParams}}",opacity:0}),Object(y.e)("{{showTransitionParams}}")]),Object(y.l)("* => void",[Object(y.e)("{{hideTransitionParams}}",Object(y.k)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]}}),t})(),S=(()=>{let t=class{constructor(t,e){this.messageService=t,this.cd=e,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new l.n}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t){if(t instanceof Array){const e=t.filter(t=>this.canAdd(t));this.add(e)}else this.canAdd(t)&&this.add([t]);this.modal&&this.messages&&this.messages.length&&this.enableModality()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.modal&&this.disableModality()})}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t])}canAdd(t){let e=this.key===t.key;return e&&this.preventOpenDuplicates&&(e=!this.containsMessage(this.messages,t)),e&&this.preventDuplicates&&(e=!this.containsMessage(this.messagesArchieve,t)),e}containsMessage(t,e){return!!t&&null!=t.find(t=>t.summary===e.summary&&t.detail==e.detail&&t.severity===e.severity)}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"message":default:this.template=t.template}})}onMessageClose(t){this.messages.splice(t.index,1),0===this.messages.length&&this.disableModality(),this.onClose.emit({message:t.message}),this.cd.detectChanges()}enableModality(){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.containerViewChild.nativeElement.style.zIndex)-1),this.mask.style.display="block",f.a.addMultipleClasses(this.mask,"ui-widget-overlay ui-dialog-mask"),document.body.appendChild(this.mask))}disableModality(){this.mask&&(document.body.removeChild(this.mask),this.mask=null)}onAnimationStart(t){"void"===t.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++f.a.zindex))}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.disableModality()}};return t.\u0275fac=function(e){return new(e||t)(l.Ob(u.c),l.Ob(l.h))},t.\u0275cmp=l.Ib({type:t,selectors:[["p-toast"]],contentQueries:function(t,e,s){var i;1&t&&l.Hb(s,u.d,!1),2&t&&l.zc(i=l.hc())&&(e.templates=i)},viewQuery:function(t,e){var s;1&t&&l.Qc(v,!0),2&t&&l.zc(s=l.hc())&&(e.containerViewChild=s.first)},inputs:{autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",key:"key",style:"style",styleClass:"styleClass",modal:"modal"},outputs:{onClose:"onClose"},decls:3,vars:13,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(t,e){1&t&&(l.Ub(0,"div",0,1),l.Jc(2,x,1,8,"p-toastItem",2),l.Tb()),2&t&&(l.Db(e.styleClass),l.oc("ngClass",l.yc(5,B,"top-right"===e.position,"top-left"===e.position,"bottom-right"===e.position,"bottom-left"===e.position,"top-center"===e.position,"bottom-center"===e.position,"center"===e.position))("ngStyle",e.style),l.Bb(2),l.oc("ngForOf",e.messages))},directives:[i.j,i.m,i.k,P],encapsulation:2,data:{animation:[Object(y.m)("toastAnimation",[Object(y.l)(":enter, :leave",[Object(y.h)("@*",Object(y.f)())])])]}}),t})(),A=(()=>{let t=class{};return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)},imports:[[i.b],u.e]}),t})();var U=s("arFO");const j=["d"],z=["myRangeInput"];function L(t,e){if(1&t){const t=l.Vb();l.Ub(0,"span",20),l.gc("click",(function(){l.Bc(t);const s=e.date;return l.ic().onDateSelection(s)}))("mouseenter",(function(){l.Bc(t);const s=e.date;return l.ic().hoveredDate=s}))("mouseleave",(function(){return l.Bc(t),l.ic().hoveredDate=null})),l.Lc(1),l.Tb()}if(2&t){const t=e.date,s=l.ic();l.Gb("range",s.isFrom(t)||s.isTo(t)||s.isInside(t)||s.isHovered(t))("faded",s.isHovered(t)||s.isInside(t)),l.Bb(1),l.Nc(" ",t.day," ")}}new Date;const H=(t,e)=>t&&e&&e.year===t.year&&e.month===t.month&&e.day===t.day,_=(t,e)=>!(!t||!e)&&(t.year===e.year?t.month===e.month?t.day!==e.day&&t.day<e.day:t.month<e.month:t.year<e.year),F=(t,e)=>!(!t||!e)&&(t.year===e.year?t.month===e.month?t.day!==e.day&&t.day>e.day:t.month>e.month:t.year>e.year),Q=[{path:"",component:(()=>{class t{constructor(t,e,s,i,n,o){this.toastrService=t,this.weightGainService=e,this.messageService=s,this.calendar=i,this.renderer=n,this.__parserFormatter=o,this.lineChartData=[{data:[],label:""}],this.lineChartLabels=[],this.lineChartOptions={responsive:!0},this.lineChartColors=[{backgroundColor:"rgba(0,102,255,0.4)",borderColor:"rgba(0,102,255,1)",pointBackgroundColor:"rgba(0,102,255,0.4)",pointBorderColor:"#0066FF",pointHoverBackgroundColor:"#0066FF",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(77,83,96,0.2)",borderColor:"rgba(77,83,96,1)",pointBackgroundColor:"rgba(77,83,96,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(148,159,177,0.2)",borderColor:"rgba(148,159,177,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)"}],this.isHovered=t=>this.fromDate&&!this.toDate&&this.hoveredDate&&F(t,this.fromDate)&&_(t,this.hoveredDate),this.isInside=t=>F(t,this.fromDate)&&_(t,this.toDate),this.isFrom=t=>H(t,this.fromDate),this.isTo=t=>H(t,this.toDate)}chartClicked(t){}chartHovered(t){}ngOnInit(){this.lineChartLegend=!0,this.lineChartType="line",this.days=[{name:"Week"},{name:"Month"},{name:"Quarter"},{name:"Year"}],this.PlanAnalytics()}PlanAnalytics(){var t,e=d().utc().startOf("month").format(),s=d().utc().endOf("month").format();if(null!=this.fromDate&&null!=this.toDate){var i=JSON.stringify(this.selectedDay.value);t={startdate:d.utc([this.fromDate.year,this.fromDate.month-1,this.fromDate.day]).format(),enddate:d.utc([this.toDate.year,this.toDate.month-1,this.toDate.day]).format(),groupby:i}}else t={startdate:e,enddate:s,groupby:1};this.weightGainService.PlanAnalytics(t).subscribe(t=>{if(console.log("response",t),1==t.success){0==t.data.length&&this.toastrService.error("No data found!","");var e=[],s=[],i=Object.keys(t.data[0])[0];for(let i=0;i<t.data.length;i++){const n=Object.values(t.data[i])[1],o=Object.values(t.data[i])[0];e.push(n),s.push(o)}this.lineChartLabels=e,this.lineChartData=[{data:s,label:i}]}})}onClick(){this.messageService.add({summary:"toast here",severity:"warn",sticky:!0})}onDateSelection(t){let e="";this.fromDate||this.toDate?this.fromDate&&!this.toDate&&F(t,this.fromDate)?(this.toDate=F(t,this.startDate)?this.startDate:t,this.input.close()):(this.toDate=null,this.fromDate=F(t,this.startDate)?this.startDate:t):this.fromDate=F(t,this.startDate)?this.startDate:t,this.fromDate&&(e+=this.__parserFormatter.format(this.fromDate)),this.toDate&&(e+=" - "+this.__parserFormatter.format(this.toDate)),this.renderer.setProperty(this.myRangeInput.nativeElement,"value",e)}}return t.\u0275fac=function(e){return new(e||t)(l.Ob(p.b),l.Ob(h),l.Ob(u.c),l.Ob(b.e),l.Ob(l.E),l.Ob(b.h))},t.\u0275cmp=l.Ib({type:t,selectors:[["app-premiumplan"]],viewQuery:function(t,e){var s;1&t&&(l.Qc(j,!0),l.Qc(m.l,!0),l.Qc(z,!0)),2&t&&(l.zc(s=l.hc())&&(e.input=s.first),l.zc(s=l.hc())&&(e.datePick=s.first),l.zc(s=l.hc())&&(e.myRangeInput=s.first))},features:[l.Ab([h,u.c,p.b])],decls:25,vars:17,consts:[[3,"heading","icon"],[1,"row"],[1,"col","col-sm-10"],[1,"card","mb-6"],[1,"row",2,"padding-top","5px"],[1,"filter","col-sm-2",2,"padding-top","1px"],["placeholder","Day Filter","optionLabel","name",3,"options","ngModel","showClear","ngModelChange"],[1,"filter","col-sm-5"],[1,"input-group"],["placeholder","yyyy-mm-dd - yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","dayTemplate","autoClose","displayMonths","markDisabled","ngModelChange","focus"],["myRangeInput","","d","ngbDatepicker"],["t",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-calendar"],["ngbButton","",1,"btn","btn-themecolor","ml-3",3,"click"],[1,"fa","fa-search"],[1,"filter","col-sm-4"],[1,"card-body"],["baseChart","","height","130",3,"chartType","colors","datasets","labels","legend","options","chartClick","chartHover"],[1,"custom-day",3,"click","mouseenter","mouseleave"]],template:function(t,e){if(1&t){const t=l.Vb();l.Ub(0,"div"),l.Pb(1,"app-page-header",0),l.Pb(2,"p-toast"),l.Ub(3,"div",1),l.Ub(4,"div",2),l.Ub(5,"div",3),l.Ub(6,"div",4),l.Ub(7,"div",5),l.Ub(8,"p-dropdown",6),l.gc("ngModelChange",(function(t){return e.selectedDay=t})),l.Tb(),l.Tb(),l.Ub(9,"div",7),l.Ub(10,"div",8),l.Ub(11,"input",9,10),l.gc("ngModelChange",(function(t){return e.model=t}))("focus",(function(){return l.Bc(t),l.Ac(13).toggle()})),l.Tb(),l.Jc(14,L,2,5,"ng-template",null,11,l.Kc),l.Ub(16,"div",12),l.Ub(17,"button",13),l.gc("click",(function(){return l.Bc(t),l.Ac(13).toggle()})),l.Pb(18,"i",14),l.Tb(),l.Ub(19,"button",15),l.gc("click",(function(){return e.PlanAnalytics()})),l.Pb(20,"i",16),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Pb(21,"div",17),l.Tb(),l.Pb(22,"hr"),l.Ub(23,"div",18),l.Ub(24,"canvas",19),l.gc("chartClick",(function(t){return e.chartClicked(t)}))("chartHover",(function(t){return e.chartHovered(t)})),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()}if(2&t){const t=l.Ac(15);l.oc("@routerTransition",void 0),l.Bb(1),l.oc("heading","Weight Gain Program Analytics")("icon","fa-bar-chart-o"),l.Bb(7),l.oc("options",e.days)("ngModel",e.selectedDay)("showClear",!0),l.Bb(3),l.oc("ngModel",e.model)("dayTemplate",t)("autoClose",!1)("displayMonths",2)("markDisabled",e.markDisabled),l.Bb(13),l.oc("chartType",e.lineChartType)("colors",e.lineChartColors)("datasets",e.lineChartData)("labels",e.lineChartLabels)("legend",e.lineChartLegend)("options",e.lineChartOptions)}},directives:[g.a,S,U.a,m.i,m.l,b.n,m.b,o.a],styles:["[_nghost-%COMP%]     .ui-button{margin:.5em .5em .5em 0;width:140px}@media screen and (max-width:40em){[_nghost-%COMP%]     .ui-dialog{width:75vw!important}}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:rgba(2,117,216,.5)}.filter[_ngcontent-%COMP%]{margin-left:10px}"],data:{animation:[Object(r.a)()]}}),t})()}];let V=(()=>{class t{}return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)},imports:[[a.e.forChild(Q)],a.e]}),t})();var Z=s("rEr+"),E=s("/RsI"),J=s("jIHw");let R=(()=>{class t{}return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)},imports:[[i.b,A,U.b,o.b,V,n.b,m.f,Z.e,E.b,J.c,b.p,b.i]]}),t})()}}]);
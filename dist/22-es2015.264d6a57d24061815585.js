(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{CjDq:function(e,t,i){"use strict";i.r(t),i.d(t,"PremiumPlanListModule",(function(){return C}));var n=i("ofXK"),a=i("M0ag"),l=i("tyNb"),r=i("ZZ88"),s=i("tk/3"),o=(i("AJX/"),i("fXoL"));let c=(()=>{class e{constructor(e){this.http=e,this.ServerUrl="http://18.212.2.14:9000/"}PremiumplanList(){const e=new s.c({Authorization:localStorage.getItem("token")});return this.http.get(this.ServerUrl+"rest/premiumplan/listplan",{headers:e,responseType:"json"}).map(e=>e)}DeletePremiumplan(e){const t=new s.c({Authorization:localStorage.getItem("token")});return this.http.delete(this.ServerUrl+"rest/premiumplan/deleteplan/"+e,{headers:t,responseType:"json"}).map(e=>e)}AddNewPlan(e){const t=new s.c({Authorization:localStorage.getItem("token")});return this.http.post(this.ServerUrl+"rest/premiumplan/addnewplan",e,{headers:t,responseType:"json"}).map(e=>e)}UpdatePlan(e){const t=new s.c({Authorization:localStorage.getItem("token")});return this.http.post(this.ServerUrl+"rest/premiumplan/updateplan",e,{headers:t,responseType:"json"}).map(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(o.cc(s.a))},e.\u0275prov=o.Kb({token:e,factory:e.\u0275fac}),e})();var p=i("7zfz"),u=i("3Pt+"),b=i("5eHb"),d=i("3zLz"),h=i("rEr+"),m=i("/RsI"),g=i("jIHw");function f(e,t){if(1&e&&(o.Ub(0,"th",29),o.Lc(1),o.Pb(2,"p-sortIcon",30),o.Tb()),2&e){const e=t.$implicit;o.oc("pSortableColumn",e.field),o.Bb(1),o.Nc(" ",e.header," "),o.Bb(1),o.oc("field",e.field)}}const v=function(){return{width:"80px"}};function P(e,t){if(1&e){const e=o.Vb();o.Ub(0,"tr"),o.Jc(1,f,3,3,"th",26),o.Ub(2,"th",27),o.Ub(3,"i",28),o.gc("click",(function(){o.Bc(e);const t=o.ic();return t.AddNewPlan(t.rowData)})),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=t.$implicit;o.Bb(1),o.oc("ngForOf",e),o.Bb(1),o.Hc(o.rc(3,v))}}function k(e,t){if(1&e&&(o.Ub(0,"td"),o.Lc(1),o.Tb()),2&e){const e=t.$implicit,i=o.ic().$implicit;o.Bb(1),o.Nc(" ",i[e.field]," ")}}function T(e,t){if(1&e){const e=o.Vb();o.Ub(0,"tr",31),o.Jc(1,k,2,1,"td",32),o.Ub(2,"td",27),o.Ub(3,"i",33),o.gc("click",(function(){o.Bc(e);const i=t.$implicit;return o.ic().EditPlan(i)})),o.Tb(),o.Lc(4," \xa0\xa0 "),o.Ub(5,"i",34),o.gc("click",(function(){o.Bc(e);const i=t.$implicit;return o.ic().DeletePlan(i)})),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=t.columns,i=t.rowIndex;o.oc("pSelectableRow",t.$implicit)("pSelectableRowIndex",i),o.Bb(1),o.oc("ngForOf",e)}}function U(e,t){if(1&e){const e=o.Vb();o.Ub(0,"button",35),o.gc("click",(function(){return o.Bc(e),o.ic().SavePlan(!0)})),o.Tb()}}function w(e,t){if(1&e){const e=o.Vb();o.Ub(0,"button",36),o.gc("click",(function(){return o.Bc(e),o.ic().UpdatePlan(!0)})),o.Tb()}}const y=function(){return[10,20]},B=function(){return{width:"30vw"}},S=[{path:"",component:(()=>{class e{constructor(e,t,i,n){this.fb=e,this.messageService=t,this.toastrService=i,this.premiumplanService=n,this.IsEdit=!1,this.marked=!1,this.isBestValue=!1}ngOnInit(){this.PremiumplanList(),this.cols=[{field:"plantitle",header:"Plan Title"},{field:"planPackageName",header:"Plan PackageName"},{field:"planprice",header:"Plan Price (values in $)"},{field:"planterm",header:"Plan Term"},{field:"subscription",header:"Subscription"},{field:"isBestValue",header:"Best Value"}]}PremiumplanList(){this.premiumplanService.PremiumplanList().subscribe(e=>{if(console.log(e),1==e.success)this.myData=e.data;else{var t=e.message;console.log(t),this.toastrService.error(t,"")}})}DeletePlan(e){this.deletePlanId=e._id,this.displayModal=!0,console.log(e)}DeletConfirm(e){1==e?this.premiumplanService.DeletePremiumplan(this.deletePlanId).subscribe(e=>{if(console.log("delete->"+e),1==e.success)this.deletePlanId=void 0,this.displayModal=!1,this.PremiumplanList();else{var t=e.message;console.log(t),this.toastrService.error(t,""),this.deletePlanId=void 0}}):(this.displayModal=!1,this.PremiumplanList())}toggleVisibility(e){this.marked=e.target.checked}AddNewPlan(){this.plantitle=void 0,this.planPackageName=void 0,this.planprice=void 0,this.planterm=void 0,this.isBestValue=!1,this.title="Add New Premium Plan",this.IsEdit=!1,this.newPlanModal=!0}SavePlan(e){if(0==e&&(this.plantitle=void 0,this.planPackageName=void 0,this.planprice=void 0,this.planterm=void 0,this.isBestValue=!1,this.newPlanModal=!1,this.PremiumplanList()),1==e){if(null==this.plantitle||null==this.plantitle||""==this.plantitle)return void this.toastrService.error("Please enter plan title","");if(null==this.planPackageName||null==this.planPackageName||""==this.planPackageName)return void this.toastrService.error("Please enter plan package name","");if(null==this.planprice||null==this.planprice||""==this.planprice)return void this.toastrService.error("Please enter plan price","");if(-0==this.planprice)return void this.toastrService.error("Please enter valid number for plan price","");if(null==this.planterm||null==this.planterm||""==this.planterm)return void this.toastrService.error("Please enter plan term","");if(-0==this.planterm)return void this.toastrService.error("Please enter valid number for plan term","");var t={plantitle:this.plantitle,planPackageName:this.planPackageName,planprice:this.planprice,planterm:this.planterm,isBestValue:this.isBestValue};console.log(t),this.premiumplanService.AddNewPlan(t).subscribe(e=>{if(1==e.success)this.newPlanModal=!1,this.PremiumplanList(),this.plantitle=void 0,this.planPackageName=void 0,this.planprice=void 0,this.planterm=void 0,this.isBestValue=!1;else{var t=e.message;console.log(t),this.toastrService.error(t,"")}})}}EditPlan(e){this.IsEdit=!0,this.title="Edit Premium Plan",this.newPlanModal=!0,this.EditPlanId=e._id,this.plantitle=e.plantitle,this.planPackageName=e.planPackageName,this.planprice=e.planprice,this.planterm=e.planterm,this.isBestValue=e.isBestValue}UpdatePlan(){null!=this.plantitle&&null!=this.plantitle&&""!=this.plantitle?null!=this.planPackageName&&null!=this.planPackageName&&""!=this.planPackageName?null!=this.planprice&&null!=this.planprice&&""!=this.planprice?-0!=this.planprice?null!=this.planterm&&null!=this.planterm&&""!=this.planterm?-0!=this.planterm?this.premiumplanService.UpdatePlan({plan_id:this.EditPlanId,plantitle:this.plantitle,planPackageName:this.planPackageName,planprice:this.planprice,planterm:this.planterm,isBestValue:this.isBestValue}).subscribe(e=>{if(1==e.success)this.toastrService.success("Premium plan updated successfully",""),this.newPlanModal=!1,this.PremiumplanList(),this.plantitle=void 0,this.planPackageName=void 0,this.planprice=void 0,this.planterm=void 0,this.isBestValue=!1;else{var t=e.message;console.log(t),this.toastrService.error(t,"")}}):this.toastrService.error("Please enter valid number for plan term",""):this.toastrService.error("Please enter plan term",""):this.toastrService.error("Please enter valid number for plan price",""):this.toastrService.error("Please enter plan price",""):this.toastrService.error("Please enter plan package name",""):this.toastrService.error("Please enter plan title","")}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(u.c),o.Ob(p.c),o.Ob(b.b),o.Ob(c))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-premiumplan"]],features:[o.Ab([c,p.c])],decls:43,vars:33,consts:[[3,"heading","icon"],[1,"row",2,"padding","0.75rem 1rem","margin-bottom","80px"],[3,"columns","value","paginator","rows","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["header","Please Confirm",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],[2,"text-align","center","margin","20px"],["type","button","pButton","","icon","pi pi-check","label","Yes",3,"click"],["type","button","pButton","","icon","pi pi-times","label","No",1,"ui-button-secondary",3,"click"],[3,"header","visible","modal","baseZIndex","draggable","resizable","visibleChange"],["from1","ngForm"],[1,"form-group"],["for","plantitle"],[1,"input-group"],["type","text","id","plantitle","name","plantitle",1,"form-control",3,"ngModel","ngModelChange"],["for","planPackageName"],["type","text","id","planPackageName","name","planPackageName",1,"form-control",3,"ngModel","ngModelChange"],["for","planprice"],["type","number","min","0","onkeydown","javascript: return event.keyCode == 69 ? false : true","onkeyup","if(this.value <0){this.value= this.value * -1}","id","planprice","name","planprice",1,"form-control",3,"ngModel","ngModelChange"],["for","planterm"],["type","number","min","0","onkeydown","javascript: return event.keyCode == 69 ? false : true","onkeyup","if(this.value <0){this.value= this.value * -1}","id","planterm","name","planterm",1,"form-control",3,"ngModel","ngModelChange"],["for","isBestValue"],["type","checkbox","name","isBestValue","data-md-icheck","","id","isBestValue",3,"ngModel","ngModelChange","change"],["type","button","pButton","","icon","pi pi-check","label","Submit",3,"click",4,"ngIf"],["type","button","pButton","","icon","pi pi-check","label","Update",3,"click",4,"ngIf"],["type","button","pButton","","icon","pi pi-times","label","Cancel",1,"ui-button-secondary",3,"click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[2,"text-align","center"],[1,"fa","fa-plus",2,"cursor","grab","color","green",3,"click"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow","pSelectableRowIndex"],[4,"ngFor","ngForOf"],[1,"fa","fa-pencil",2,"cursor","grab","color","blue",3,"click"],[1,"fa","fa-trash",2,"cursor","grab","color","red",3,"click"],["type","button","pButton","","icon","pi pi-check","label","Submit",3,"click"],["type","button","pButton","","icon","pi pi-check","label","Update",3,"click"]],template:function(e,t){1&e&&(o.Ub(0,"div"),o.Pb(1,"app-page-header",0),o.Ub(2,"div",1),o.Ub(3,"p-table",2),o.Jc(4,P,4,4,"ng-template",3),o.Jc(5,T,6,3,"ng-template",4),o.Tb(),o.Tb(),o.Tb(),o.Ub(6,"p-dialog",5),o.gc("visibleChange",(function(e){return t.displayModal=e})),o.Ub(7,"p",6),o.Lc(8,"Are you sure you want to delete this Plan?"),o.Tb(),o.Ub(9,"p-footer"),o.Ub(10,"button",7),o.gc("click",(function(){return t.DeletConfirm(!0)})),o.Tb(),o.Ub(11,"button",8),o.gc("click",(function(){return t.DeletConfirm(!1)})),o.Tb(),o.Tb(),o.Tb(),o.Ub(12,"p-dialog",9),o.gc("visibleChange",(function(e){return t.newPlanModal=e})),o.Ub(13,"form",null,10),o.Ub(15,"div",11),o.Ub(16,"label",12),o.Lc(17,"Plan Title"),o.Tb(),o.Ub(18,"div",13),o.Ub(19,"input",14),o.gc("ngModelChange",(function(e){return t.plantitle=e})),o.Tb(),o.Tb(),o.Tb(),o.Ub(20,"div",11),o.Ub(21,"label",15),o.Lc(22,"Plan Package Name"),o.Tb(),o.Ub(23,"div",13),o.Ub(24,"input",16),o.gc("ngModelChange",(function(e){return t.planPackageName=e})),o.Tb(),o.Tb(),o.Tb(),o.Ub(25,"div",11),o.Ub(26,"label",17),o.Lc(27,"Plan Price"),o.Tb(),o.Ub(28,"div",13),o.Ub(29,"input",18),o.gc("ngModelChange",(function(e){return t.planprice=e})),o.Tb(),o.Tb(),o.Tb(),o.Ub(30,"div",11),o.Ub(31,"label",19),o.Lc(32,"Plan Term"),o.Tb(),o.Ub(33,"div",13),o.Ub(34,"input",20),o.gc("ngModelChange",(function(e){return t.planterm=e})),o.Tb(),o.Tb(),o.Tb(),o.Ub(35,"div",11),o.Ub(36,"label",21),o.Lc(37,"Is Best Value: "),o.Ub(38,"input",22),o.gc("ngModelChange",(function(e){return t.isBestValue=e}))("change",(function(e){return t.toggleVisibility(e)})),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(39,"p-footer"),o.Jc(40,U,1,0,"button",23),o.Jc(41,w,1,0,"button",24),o.Ub(42,"button",25),o.gc("click",(function(){return t.SavePlan(!1)})),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.oc("@routerTransition",void 0),o.Bb(1),o.oc("heading","Premium Plan Data")("icon","fa fa-usd"),o.Bb(2),o.oc("columns",t.cols)("value",t.myData)("paginator",!0)("rows",10)("rowsPerPageOptions",o.rc(30,y)),o.Bb(3),o.Hc(o.rc(31,B)),o.oc("visible",t.displayModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),o.Bb(6),o.Hc(o.rc(32,B)),o.pc("header",t.title),o.oc("visible",t.newPlanModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),o.Bb(7),o.oc("ngModel",t.plantitle),o.Bb(5),o.oc("ngModel",t.planPackageName),o.Bb(5),o.oc("ngModel",t.planprice),o.Bb(5),o.oc("ngModel",t.planterm),o.Bb(4),o.oc("ngModel",t.isBestValue),o.Bb(2),o.oc("ngIf",1!=t.IsEdit),o.Bb(1),o.oc("ngIf",1==t.IsEdit))},directives:[d.a,h.d,p.d,m.a,p.a,g.b,u.q,u.j,u.k,u.b,u.i,u.l,u.n,u.a,n.l,n.k,h.c,h.b,h.a],styles:["[_nghost-%COMP%]     .ui-button{margin:.5em .5em .5em 0;width:140px}@media screen and (max-width:40em){[_nghost-%COMP%]     .ui-dialog{width:75vw!important}}"],data:{animation:[Object(r.a)()]}}),e})()}];let M=(()=>{class e{}return e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({factory:function(t){return new(t||e)},imports:[[l.e.forChild(S)],l.e]}),e})();i("R0Ic");let I=(()=>{let e=class{};return e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({factory:function(t){return new(t||e)},imports:[[n.b]]}),e})(),N=(()=>{let e=class{};return e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({factory:function(t){return new(t||e)},imports:[[n.b]]}),e})(),C=(()=>{class e{}return e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({factory:function(t){return new(t||e)},imports:[[n.b,I,N,u.o,M,a.b,u.f,h.e,m.b,g.c]]}),e})()}}]);
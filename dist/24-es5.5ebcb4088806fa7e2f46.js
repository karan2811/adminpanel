function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"s6f+":function(t,e,a){"use strict";a.r(e),a.d(e,"WeightLossModule",(function(){return V}));var r,o=a("ofXK"),n=a("M0ag"),i=a("LPYB"),s=a("tyNb"),c=a("ZZ88"),l=a("tk/3"),d=(a("AJX/"),a("fXoL")),h=((r=function(){function t(e){_classCallCheck(this,t),this.http=e,this.ServerUrl="http://18.212.2.14:9000/"}return _createClass(t,[{key:"PlanAnalytics",value:function(t){var e=new l.c({Authorization:localStorage.getItem("token")});return this.http.post(this.ServerUrl+"rest/admin/analytics_weight_loss",t,{headers:e,responseType:"json"}).map((function(t){return t}))}}]),t}()).\u0275fac=function(t){return new(t||r)(d.dc(l.a))},r.\u0275prov=d.Lb({token:r,factory:r.\u0275fac}),r),u=a("3Pt+"),f=a("wd/R"),b=a("1kSV"),p=a("3zLz"),m=a("arFO"),g=["d"],y=["myRangeInput"];function C(t,e){if(1&t){var a=d.Wb();d.Vb(0,"span",19),d.hc("click",(function(){d.Bc(a);var t=e.date;return d.jc().onDateSelection(t)}))("mouseenter",(function(){d.Bc(a);var t=e.date;return d.jc().hoveredDate=t}))("mouseleave",(function(){return d.Bc(a),d.jc().hoveredDate=null})),d.Lc(1),d.Ub()}if(2&t){var r=e.date,o=d.jc();d.Hb("range",o.isFrom(r)||o.isTo(r)||o.isInside(r)||o.isHovered(r))("faded",o.isHovered(r)||o.isInside(r)),d.Cb(1),d.Nc(" ",r.day," ")}}new Date;var v,D,k,w=function(t,e){return t&&e&&e.year===t.year&&e.month===t.month&&e.day===t.day},M=function(t,e){return!(!t||!e)&&(t.year===e.year?t.month===e.month?t.day!==e.day&&t.day<e.day:t.month<e.month:t.year<e.year)},_=function(t,e){return!(!t||!e)&&(t.year===e.year?t.month===e.month?t.day!==e.day&&t.day>e.day:t.month>e.month:t.year>e.year)},P=[{path:"",component:(v=function(){function t(e,a,r,o){var n=this;_classCallCheck(this,t),this.weightLossService=e,this.calendar=a,this.renderer=r,this.__parserFormatter=o,this.lineChartData=[{data:[],label:""}],this.lineChartLabels=[],this.lineChartOptions={responsive:!0},this.lineChartColors=[{backgroundColor:"rgba(0,102,255,0.4)",borderColor:"rgba(0,102,255,1)",pointBackgroundColor:"rgba(0,102,255,0.4)",pointBorderColor:"#0066FF",pointHoverBackgroundColor:"#0066FF",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(77,83,96,0.2)",borderColor:"rgba(77,83,96,1)",pointBackgroundColor:"rgba(77,83,96,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(148,159,177,0.2)",borderColor:"rgba(148,159,177,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)"}],this.isHovered=function(t){return n.fromDate&&!n.toDate&&n.hoveredDate&&_(t,n.fromDate)&&M(t,n.hoveredDate)},this.isInside=function(t){return _(t,n.fromDate)&&M(t,n.toDate)},this.isFrom=function(t){return w(t,n.fromDate)},this.isTo=function(t){return w(t,n.toDate)}}return _createClass(t,[{key:"chartClicked",value:function(t){}},{key:"chartHovered",value:function(t){}},{key:"ngOnInit",value:function(){this.lineChartLegend=!0,this.lineChartType="line",this.days=[{name:"Week",value:1},{name:"Month",value:2},{name:"Quarter",value:3},{name:"Year",value:4}],this.group=[{name:"Weight",value:1},{name:"Bodyfat",value:2},{name:"BMR",value:3},{name:"LBM",value:4}],this.PlanAnalytics()}},{key:"PlanAnalytics",value:function(){var t,e=this,a=f().utc().startOf("month").format(),r=f().utc().endOf("month").format();if(null!=this.fromDate&&null!=this.toDate){var o=JSON.stringify(this.selectedDay.value),n=JSON.stringify(this.selectedGroup.value);t={startdate:f.utc([this.fromDate.year,this.fromDate.month-1,this.fromDate.day]).format(),enddate:f.utc([this.toDate.year,this.toDate.month-1,this.toDate.day]).format(),groupby:o,category:n}}else t={startdate:a,enddate:r,groupby:1,category:1};this.weightLossService.PlanAnalytics(t).subscribe((function(t){if(console.log("response",t),1==t.success){for(var a=[],r=[],o=Object.keys(t.data[0])[0],n=0;n<t.data.length;n++){var i=Object.values(t.data[n])[1],s=Object.values(t.data[n])[0];a.push(i),r.push(s)}e.lineChartLabels=a,e.lineChartData=[{data:r,label:o}]}}))}},{key:"onDateSelection",value:function(t){var e="";this.fromDate||this.toDate?this.fromDate&&!this.toDate&&_(t,this.fromDate)?(this.toDate=_(t,this.startDate)?this.startDate:t,this.input.close()):(this.toDate=null,this.fromDate=_(t,this.startDate)?this.startDate:t):this.fromDate=_(t,this.startDate)?this.startDate:t,this.fromDate&&(e+=this.__parserFormatter.format(this.fromDate)),this.toDate&&(e+=" - "+this.__parserFormatter.format(this.toDate)),this.renderer.setProperty(this.myRangeInput.nativeElement,"value",e)}}]),t}(),v.\u0275fac=function(t){return new(t||v)(d.Pb(h),d.Pb(b.e),d.Pb(d.E),d.Pb(b.h))},v.\u0275cmp=d.Jb({type:v,selectors:[["app-premiumplan"]],viewQuery:function(t,e){var a;1&t&&(d.Qc(g,!0),d.Qc(u.l,!0),d.Qc(y,!0)),2&t&&(d.zc(a=d.ic())&&(e.input=a.first),d.zc(a=d.ic())&&(e.datePick=a.first),d.zc(a=d.ic())&&(e.myRangeInput=a.first))},features:[d.Bb([h])],decls:24,vars:20,consts:[[3,"heading","icon"],[1,"row"],[1,"col","col-sm-10"],[1,"card","mb-6"],[1,"card-header","row"],["placeholder","Day Filter","optionLabel","name",3,"options","ngModel","showClear","ngModelChange"],["placeholder","Category Filter","optionLabel","name",3,"options","ngModel","showClear","ngModelChange"],[1,"form-group"],[1,"input-group"],["placeholder","yyyy-mm-dd - yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","dayTemplate","autoClose","displayMonths","markDisabled","ngModelChange","focus"],["myRangeInput","","d","ngbDatepicker"],["t",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-calendar"],["ngbButton","",1,"btn","btn-themecolor","ml-3",3,"click"],[1,"fa","fa-search"],[1,"card-body"],["baseChart","","height","130",3,"chartType","colors","datasets","labels","legend","options","chartClick","chartHover"],[1,"custom-day",3,"click","mouseenter","mouseleave"]],template:function(t,e){if(1&t){var a=d.Wb();d.Vb(0,"div"),d.Qb(1,"app-page-header",0),d.Vb(2,"div",1),d.Vb(3,"div",2),d.Vb(4,"div",3),d.Vb(5,"div",4),d.Lc(6," Line Chart "),d.Vb(7,"p-dropdown",5),d.hc("ngModelChange",(function(t){return e.selectedDay=t})),d.Ub(),d.Lc(8," \xa0\xa0 "),d.Vb(9,"p-dropdown",6),d.hc("ngModelChange",(function(t){return e.selectedGroup=t})),d.Ub(),d.Vb(10,"div",7),d.Vb(11,"div",8),d.Vb(12,"input",9,10),d.hc("ngModelChange",(function(t){return e.model=t}))("focus",(function(){return d.Bc(a),d.Ac(14).toggle()})),d.Ub(),d.Jc(15,C,2,5,"ng-template",null,11,d.Kc),d.Vb(17,"div",12),d.Vb(18,"button",13),d.hc("click",(function(){return d.Bc(a),d.Ac(14).toggle()})),d.Qb(19,"i",14),d.Ub(),d.Vb(20,"button",15),d.hc("click",(function(){return e.PlanAnalytics()})),d.Qb(21,"i",16),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(22,"div",17),d.Vb(23,"canvas",18),d.hc("chartClick",(function(t){return e.chartClicked(t)}))("chartHover",(function(t){return e.chartHovered(t)})),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub()}if(2&t){var r=d.Ac(16);d.pc("@routerTransition",void 0),d.Cb(1),d.pc("heading","Weight Loss Program Analytics")("icon","fa-bar-chart-o"),d.Cb(6),d.pc("options",e.days)("ngModel",e.selectedDay)("showClear",!0),d.Cb(2),d.pc("options",e.group)("ngModel",e.selectedGroup)("showClear",!0),d.Cb(3),d.pc("ngModel",e.model)("dayTemplate",r)("autoClose",!1)("displayMonths",2)("markDisabled",e.markDisabled),d.Cb(11),d.pc("chartType",e.lineChartType)("colors",e.lineChartColors)("datasets",e.lineChartData)("labels",e.lineChartLabels)("legend",e.lineChartLegend)("options",e.lineChartOptions)}},directives:[p.a,m.a,u.i,u.l,b.n,u.b,i.a],styles:["[_nghost-%COMP%]     .ui-button{margin:.5em .5em .5em 0;width:140px}@media screen and (max-width:40em){[_nghost-%COMP%]     .ui-dialog{width:75vw!important}}.rightshift[_ngcontent-%COMP%]{right:0;left:auto}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:rgba(2,117,216,.5)}"],data:{animation:[Object(c.a)()]}}),v)}],B=((D=function t(){_classCallCheck(this,t)}).\u0275mod=d.Nb({type:D}),D.\u0275inj=d.Mb({factory:function(t){return new(t||D)},imports:[[s.e.forChild(P)],s.e]}),D),O=a("rEr+"),L=a("/RsI"),U=a("jIHw"),V=((k=function t(){_classCallCheck(this,t)}).\u0275mod=d.Nb({type:k}),k.\u0275inj=d.Mb({factory:function(t){return new(t||k)},imports:[[o.b,m.b,i.b,B,n.b,u.f,O.e,L.b,U.b,b.p,b.i]]}),k)}}]);